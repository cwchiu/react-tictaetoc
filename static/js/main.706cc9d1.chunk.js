(this.webpackJsonptae=this.webpackJsonptae||[]).push([[0],{15:function(n,e,t){n.exports=t(31)},20:function(n,e,t){},21:function(n,e,t){n.exports=t.p+"static/media/logo.25bf045c.svg"},22:function(n,e,t){},31:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),i=t(8),o=t.n(i),c=(t(20),t(3)),l=(t(21),t(22),t(1)),s=t(2),u=("".concat("TICTACTOE","/INIT"),"".concat("TICTACTOE","/SET_BLOCK_VALUE"),"".concat("TICTACTOE","/SET_GAME_SCALE"),"".concat("TICTACTOE","/SET_WINNER_CONDITION"),"".concat("TICTACTOE","/SET_WINNER"),"".concat("TICTACTOE","/SET_IS_SINGLE_PLAYER"),[3,4]),d=[3,4];function f(){var n=Object(l.a)(["\n    .tic-tac-toe__blocks-wrapper {\n        width: ","px;\n        height: ","px;\n        @media only screen and (max-width: 600px) {\n            width: calc(100vw - 20px);\n            height: calc(100vw - 20px);\n        }\n        display: grid;\n        ","\n    }\n    .tic-tac-toe__item {\n        outline: none;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        color: white;\n        width: 100%;\n        height: 100%;\n        background: ",";\n        cursor: pointer;\n        &:hover {\n            background: ",";\n        }\n    }\n    .tic-tac-toe__item-win {\n        animation: "," 0.5s linear infinite alternate;\n    }\n    .tic-tac-toe__cross-wrapper {\n        height: 80%;\n        width: 80%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        .cross {\n            position: relative;\n            width: 100%;\n            height: 100%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            &:before {\n                ","\n            }\n            &:after {\n                ","\n            }\n        }\n    }\n    .tic-tac-toe__restart-btn {\n        font-family: 'Rammetto One', cursive;\n        width: 100%;\n        line-height: 50px;\n        font-size: 1.5em;\n        letter-spacing: 1px;\n        background: white;\n        cursor: pointer;\n        outline: none;\n        margin: 10px 0px;\n        padding: 5px 0px;\n        border-radius: 5px;\n        border: none;\n        transition: all 0.25s ease-out;\n        &:hover {\n            box-shadow: 0 10px 20px 0 ",";\n            transform: translateY(-1px);\n            color: ",";\n        }\n    }\n    .tic-tac-toe__setting-group-wrapper {\n        display: grid;\n        grid-template-columns: repeat(2, 1fr);\n        grid-template-rows: repeat(2, 40px);\n        justify-content: space-between;\n        font-family: 'Rammetto One', cursive;\n        margin-bottom: 10px;\n    }\n    .tic-tac-toe__setting-group {\n        display: flex;\n        align-items: center;\n        text-shadow: 2px 0px white;\n        font-size: 1.2em;\n        @media only screen and (max-width: 600px) {\n            font-size: 0.9em;\n        }\n        span {\n            margin-right: 5px;\n        }\n        select {\n            font-size: 1.2em;\n            outline: none;\n            background: white;\n        }\n    }\n"]);return f=function(){return n},n}function h(){var n=Object(l.a)(["\n    from {\n        background: ",";\n    }\n    to {\n        background: ",";\n    }\n"]);return h=function(){return n},n}var g=Object(s.b)(h(),"#ff4f6e","#ff99ab"),m=function(n,e){return"\n    content: '';\n    border-radius: 10px;\n    width: 110%;\n    background: black;\n    position: absolute;\n    height: ".concat(4.5/n,"em;\n    transform: rotate(").concat(e,"deg);\n")},p=s.a.div(f(),600,600,(function(n){var e=n.gameScale;return"\n                grid-template-columns: repeat(".concat(e,", 1fr);\n                grid-template-rows: repeat(").concat(e,", 1fr);\n                grid-gap: ").concat(45/e,"px ").concat(45/e,"px;\n            ")}),"#ff99ab","#ff4f6e",g,(function(n){var e=n.gameScale;return m(e,45)}),(function(n){var e=n.gameScale;return m(e,-45)}),"#e2a900","#ff4f6e"),w=t(11),v=t(12);function b(){var n=Object(l.a)(["\n    width: 80%;\n    height: 80%;\n    .cross__cross {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        &:before {\n            ","\n        }\n        &:after {\n            ","\n        }\n    }\n"]);return b=function(){return n},n}var _=function(n,e){return"\n    content: '';\n    border-radius: 10px;\n    width: 110%;\n    background: black;\n    position: absolute;\n    height: ".concat(4.5/n,"em;\n    transform: rotate(").concat(e,"deg);\n")},x=s.a.div(b(),(function(n){return _(n.theme.scaleFactor,45)}),(function(n){return _(n.theme.scaleFactor,-45)})),E=function(n){var e=n.theme;return r.a.createElement(x,{theme:e},r.a.createElement("span",{className:"cross__cross"}))};E.defaultProps={theme:null};var y=E;function O(){var n=Object(l.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 80%;\n    width: 80%;\n    .circle__circle {\n        width: 100%;\n        height: 100%;\n        ","\n        box-sizing: border-box;\n        border-radius: 100%;\n    }\n"]);return O=function(){return n},n}var k=s.a.div(O(),(function(n){return"\n                border: ".concat(4.5/n.theme.scaleFactor,"em solid white;\n            ")})),S=function(n){var e=n.theme;return r.a.createElement(k,{theme:e},r.a.createElement("span",{className:"circle__circle"}))};S.defaultProps={theme:null};var j=S,T=(t(28),function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(w.a)(this,n),this.id=e,this.owner=t}return Object(v.a)(n,[{key:"hasOwner",value:function(){return 0!==this.owner}},{key:"draw",value:function(){var n={scaleFactor:5};return 1===this.owner?r.a.createElement(j,{theme:n}):-1===this.owner?r.a.createElement(y,{theme:n}):null}},{key:"get",value:function(n){return this.id}}]),n}()),C=function(){return[new T(0),new T(1),new T(2),new T(3),new T(4),new T(5),new T(6),new T(7),new T(8)]},N=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[2,4,6],[0,4,8]],A=function(n){var e=n.options,t=n.handleOnSelect;return r.a.createElement("select",{onChange:t},e.map((function(n){return r.a.createElement("option",{key:n,value:n},n)})))};function I(){var n=Object(l.a)(["\n    .tic-tac-toe__toggle-switch-btn-container {\n        position: relative;\n        ","\n        width: 50px;\n        height: 25px;\n        border-radius: 20px;\n        padding: 4px;\n        cursor: pointer;\n        border: 2px solid white;\n        transition: all 0.15s ease-out;\n    }\n    .tic-tac-toe__toggle-switch-btn-circle {\n        position: relative;\n        width: 50%;\n        height: 100%;\n        background: white;\n        top: 50%;\n        transform: translateY(-50%) translateX(100%);\n        border-radius: 100%;\n        right: 0px;\n        transition: all 0.15s ease-out;\n    }\n    .tic-tac-toe__toggle-switch-btn-circle-left {\n        position: relative;\n        width: 50%;\n        height: 100%;\n        background: white;\n        top: 50%;\n        transform: translateY(-50%);\n        border-radius: 100%;\n        right: 0px;\n        transition: all 0.15s ease-out;\n    }\n"]);return I=function(){return n},n}var P=s.a.div(I(),(function(n){return n.isSinglePlay?"background: ".concat("#ff4f6e",";"):"background: #878787;"})),R=function(n){var e=n.isSinglePlay,t=n.handleOnToggleSwitchClick,a=e?"tic-tac-toe__toggle-switch-btn-circle":"tic-tac-toe__toggle-switch-btn-circle-left";return r.a.createElement(P,{isSinglePlay:e,onClick:t},r.a.createElement("div",{className:"tic-tac-toe__toggle-switch-btn-container"},r.a.createElement("div",{className:a})))};R.defaultProps={isSinglePlay:!0,handleOnToggleSwitchClick:function(){}};var W=R;function F(){var n=Object(l.a)(["\n    height: ","px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: #ffffff5e;\n    margin: 10px 0px;\n    font-weight: 900;\n    text-shadow: 2px 0px white;\n    .info-board__content-wrapper {\n        height: ","px;\n        width: ","px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    .info-board__label {\n        font-size: 3em;\n        @media only screen and (max-width: 600px) {\n            font-size: 2em;\n        }\n        letter-spacing: 15px;\n        margin: 0px 20px;\n    }\n"]);return F=function(){return n},n}var z=s.a.div(F(),100,100,100),G=function(n){var e={scaleFactor:5};return 1===n?r.a.createElement(j,{theme:e}):-1===n?r.a.createElement(y,{theme:e}):null},L=function(n){var e=n.currentRole,t=n.isWin;return t.isGameFinished?t.winner?r.a.createElement(z,null,r.a.createElement("span",{className:"info-board__label"},"\u7372\u52dd\u8005\u662f"),r.a.createElement("div",{className:"info-board__content-wrapper"},G(t.winner))):r.a.createElement(z,null,r.a.createElement("span",{className:"info-board__label"},"\u5e73\u624b")):r.a.createElement(z,null,r.a.createElement("span",{className:"info-board__label"},"\u8f2a\u5230"),r.a.createElement("div",{className:"info-board__content-wrapper"},G(e)))};L.defaultProps={currentRole:1,isWin:null};var U=L,Y={isGameFinished:!1,winner:""},B=function(n){var e=n.setting,t=(n.setSetting,e.gameScale),i=Object(a.useState)(Y),o=Object(c.a)(i,2),l=o[0],s=o[1],f=Object(a.useState)(C()),h=Object(c.a)(f,2),g=h[0],m=h[1],w=Object(a.useState)(-1),v=Object(c.a)(w,2),b=v[0],_=v[1],x=Object(a.useState)(!1),E=Object(c.a)(x,2),y=E[0],O=E[1],k=function(n){if(!l.isGameFinished)for(var e=+n.currentTarget.getAttribute("data-id"),t=0;t<g.length;++t){var a=g[t];if(a.id===e&&!a.hasOwner()){g[t].owner=b,_(-1*b),m(g);break}}};return Object(a.useEffect)((function(){console.log("#1");var n=function(n){var e=!0,t=!1,a=void 0;try{for(var r,i=function(){var e=r.value;console.log(n.filter((function(n){return e.includes(n.id)})));var t=n.filter((function(n){return e.includes(n.id)})).reduce((function(n,e){return n+e.owner}),0);if(3===Math.abs(t))return{v:t>0?1:-1}},o=N[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var c=i();if("object"===typeof c)return c.v}}catch(l){t=!0,a=l}finally{try{e||null==o.return||o.return()}finally{if(t)throw a}}return console.log("result: false"),0}(g);0!==n?s({isGameFinished:!0,winner:n}):g.reduce((function(n,e){return n+(e.hasOwner()?1:0)}),0)===t*t&&s({isGameFinished:!0,winner:""})}),[g,b]),r.a.createElement(p,{gameScale:t},r.a.createElement("div",null,r.a.createElement(U,{currentRole:b,isWin:l})),r.a.createElement("div",{className:"tic-tac-toe__blocks-wrapper"},g.map((function(n){return r.a.createElement("div",{className:"tic-tac-toe__item",key:n.get("id"),"data-id":n.get("id"),onClick:k},n.draw())}))),r.a.createElement("button",{className:"tic-tac-toe__restart-btn",onClick:function(n){_(-1),m(C()),s(Y)}},"Restart"),r.a.createElement("div",{className:"tic-tac-toe__setting-group-wrapper"},r.a.createElement("div",{className:"tic-tac-toe__setting-group"},r.a.createElement("span",null,"Scale"),r.a.createElement(A,{options:u,handleOnSelect:function(n){}})),r.a.createElement("div",{className:"tic-tac-toe__setting-group"},r.a.createElement("span",null,"Condition"),r.a.createElement(A,{options:d,handleOnSelect:function(n){}})),r.a.createElement("div",{className:"tic-tac-toe__setting-group"},r.a.createElement("span",null,"Single Play"),r.a.createElement(W,{isSinglePlay:y,handleOnToggleSwitchClick:function(n){O(!y)}}))))};var J=function(){var n=Object(a.useState)({gameScale:3,winnerCondition:3,isSinglePlayer:!0}),e=Object(c.a)(n,2),t=e[0],i=e[1];return r.a.createElement("div",{className:"App"},r.a.createElement(B,{setting:t,setSetting:i}))},M=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(n,e){navigator.serviceWorker.register(n).then((function(n){n.onupdatefound=function(){var t=n.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(n)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(n)))})}})).catch((function(n){console.error("Error during service worker registration:",n)}))}o.a.render(r.a.createElement(J,null),document.getElementById("root")),function(n){if("serviceWorker"in navigator){if(new URL("/react-tictaetoc",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/react-tictaetoc","/service-worker.js");M?(!function(n,e){fetch(n).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(n){n.unregister().then((function(){window.location.reload()}))})):D(n,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,n),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):D(e,n)}))}}()}},[[15,1,2]]]);
//# sourceMappingURL=main.706cc9d1.chunk.js.map